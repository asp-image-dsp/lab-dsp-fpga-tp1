; -----------------------------------------------------------------
;	file					ex1.asm
;	author				    Facundo D. Farall
;	date					20210816
;	description		        Exercise 8
; -----------------------------------------------------------------			

; -----------------------------------------------------------------
; X Data Memory
; -----------------------------------------------------------------		
			ORG			X:$0000
			DC			0.25
			DC			-0.5
			DC			-0.5
			DC			0.00001
			DC			-0.625
			DC			0.25

; -----------------------------------------------------------------
; Y Data Memory
; -----------------------------------------------------------------		
			ORG			Y:$0000
			DC			0.125
			DC			0.5
			DC			0.49
			DC			0
			DC			0.6
			DC			0.24999999

; -----------------------------------------------------------------
; Program Memory
; -----------------------------------------------------------------
			ORG			P:$E100
vect_max	EQU			*
				DO			N0,VECT_MAX_LOOP
				MOVE		X:(R0)+,A	Y:(R4),B
				CMPM		A,B
				TMI			A,B
				MOVE		B,Y:(R4)+
VECT_MAX_LOOP
				RTS


			ORG			P:$E000
main		EQU			*
				; Initialization of accumulators and registers
				MOVE		#6,N0
				MOVE		#$0,R0
				MOVE 		#$0,R4

				; Main code
				JSR			vect_max
				END			main